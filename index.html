<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noindex, nofollow">
    <title>Password Protected Page</title>
    <style>
        html, body {
            margin: 0;
            width: 100%;
            height: 100%;
            font-family: Arial, Helvetica, sans-serif;
        }
        #dialogText {
            color: white;
            background-color: #333333;
        }
        
        #dialogWrap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: table;
            background-color: #EEEEEE;
        }
        
        #dialogWrapCell {
            display: table-cell;
            text-align: center;
            vertical-align: middle;
        }
        
        #mainDialog {
            max-width: 400px;
            margin: 5px;
            border: solid #AAAAAA 1px;
            border-radius: 10px;
            box-shadow: 3px 3px 5px 3px #AAAAAA;
            margin-left: auto;
            margin-right: auto;
            background-color: #FFFFFF;
            overflow: hidden;
            text-align: left;
        }
        #mainDialog > * {
            padding: 10px 30px;
        }
        #passArea {
            padding: 20px 30px;
            background-color: white;
        }
        #passArea > * {
            margin: 5px auto;
        }
        #pass {
            width: 100%;
            height: 40px;
            font-size: 30px;
        }
        
        #messageWrapper {
            float: left;
            vertical-align: middle;
            line-height: 30px;
        }
        
        .notifyText {
            display: none;
        }
        
        #invalidPass {
            color: red;
        }
        
        #success {
            color: green;
        }
        
        #submitPass {
            font-size: 20px;
            border-radius: 5px;
            background-color: #E7E7E7;
            border: solid gray 1px;
            float: right;
            cursor: pointer;
        }
        #contentFrame {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        #attribution {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            text-align: center;
            padding: 10px;
            font-weight: bold;
            font-size: 0.8em;
        }
        #attribution, #attribution a {
            color: #999;
        }
        .error {
            display: none;
            color: red;
        }
    </style>
  </head>
  <body>
    <iframe id="contentFrame" frameBorder="0" allowfullscreen></iframe>
    <div id="dialogWrap">
        <div id="dialogWrapCell">
            <div id="mainDialog">
                <div id="dialogText">This page is password protected.</div>
                <div id="passArea">
                    <p id="passwordPrompt">Password</p>
                    <input id="pass" type="password" name="pass" autofocus>
                    <div>
                        <span id="messageWrapper">
                            <span id="invalidPass" class="error">Sorry, please try again.</span>
                            <span id="trycatcherror" class="error">Sorry, something went wrong.</span>
                            <span id="success" class="notifyText">Success!</span>
                            &nbsp;
                        </span>
                        <button id="submitPass" type="button">Submit</button>
                        <div style="clear: both;"></div>
                    </div>
                </div>
                <div id="securecontext" class="error">
                    <p>
                        Sorry, but password protection only works over a secure connection. Please load this page via HTTPS.
                    </p>
                </div>
                <div id="nocrypto" class="error">
                    <p>
                        Your web browser appears to be outdated. Please visit this page using a modern browser.
                    </p>
                </div>
            </div>
        </div>
    </div>
    <div id="attribution">
        Protected by <a href="https://www.maxlaumeister.com/pagecrypt/">PageCrypt</a>
    </div>
    <script>
    (function() {

        var pl = "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";
        
        var submitPass = document.getElementById('submitPass');
        var passEl = document.getElementById('pass');
        var invalidPassEl = document.getElementById('invalidPass');
        var trycatcherror = document.getElementById('trycatcherror');
        var successEl = document.getElementById('success');
        var contentFrame = document.getElementById('contentFrame');
        
        // Sanity checks

        if (pl === "") {
            submitPass.disabled = true;
            passEl.disabled = true;
            alert("This page is meant to be used with the encryption tool. It doesn't work standalone.");
            return;
        }

        if (!isSecureContext) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#securecontext").style.display = "block";
            return;
        }

        if (!crypto.subtle) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#nocrypto").style.display = "block";
            return;
        }
        
        function str2ab(str) {
            var ustr = atob(str);
            var buf = new ArrayBuffer(ustr.length);
            var bufView = new Uint8Array(buf);
            for (var i=0, strLen=ustr.length; i < strLen; i++) {
                bufView[i] = ustr.charCodeAt(i);
            }
            return bufView;
        }

        async function deriveKey(salt, password) {
            const encoder = new TextEncoder()
            const baseKey = await crypto.subtle.importKey(
                'raw',
                encoder.encode(password),
                'PBKDF2',
                false,
                ['deriveKey'],
            )
            return await crypto.subtle.deriveKey(
                { name: 'PBKDF2', salt, iterations: 100000, hash: 'SHA-256' },
                baseKey,
                { name: 'AES-GCM', length: 256 },
                true,
                ['decrypt'],
            )
        }
        
        async function doSubmit(evt) {
            submitPass.disabled = true;
            passEl.disabled = true;

            let iv, ciphertext, key;
            
            try {
                var unencodedPl = str2ab(pl);

                const salt = unencodedPl.slice(0, 32)
                iv = unencodedPl.slice(32, 32 + 16)
                ciphertext = unencodedPl.slice(32 + 16)

                key = await deriveKey(salt, passEl.value);
            } catch (e) {
                trycatcherror.style.display = "inline";
                console.error(e);
                return;
            }

            try {
                const decryptedArray = new Uint8Array(
                    await crypto.subtle.decrypt({ name: 'AES-GCM', iv }, key, ciphertext)
                );

                let decrypted = new TextDecoder().decode(decryptedArray);

                if (decrypted === "") throw "No data returned";

                const basestr = '<base href="." target="_top">';
                const anchorfixstr = `
                    <script>
                        Array.from(document.links).forEach((anchor) => {
                            const href = anchor.getAttribute("href");
                            if (href.startsWith("#")) {
                                anchor.addEventListener("click", function(e) {
                                    e.preventDefault();
                                    const targetId = this.getAttribute("href").substring(1);
                                    const targetEl = document.getElementById(targetId);
                                    targetEl.scrollIntoView();
                                });
                            }
                        });
                    <\/script>
                `;
                
                // Set default iframe link targets to _top so all links break out of the iframe
                if (decrypted.includes("<head>")) decrypted = decrypted.replace("<head>", "<head>" + basestr);
                else if (decrypted.includes("<!DOCTYPE html>")) decrypted = decrypted.replace("<!DOCTYPE html>", "<!DOCTYPE html>" + basestr);
                else decrypted = basestr + decrypted;

                // Fix fragment links
                if (decrypted.includes("</body>")) decrypted = decrypted.replace("</body>", anchorfixstr + '</body>');
                else if (decrypted.includes("</html>")) decrypted = decrypted.replace("</html>", anchorfixstr + '</html>');
                else decrypted = decrypted + anchorfixstr;
                
                contentFrame.srcdoc = decrypted;
                
                successEl.style.display = "inline";
                setTimeout(function() {
                    dialogWrap.style.display = "none";
                }, 1000);
            } catch (e) {
                invalidPassEl.style.display = "inline";
                passEl.value = "";
                submitPass.disabled = false;
                passEl.disabled = false;
                console.error(e);
                return;
            }
        }
        
        submitPass.onclick = doSubmit;
        passEl.onkeypress = function(e){
            if (!e) e = window.event;
            var keyCode = e.keyCode || e.which;
            invalidPassEl.style.display = "none";
            if (keyCode == '13'){
              // Enter pressed
              doSubmit();
              return false;
            }
        }
    })();
    </script>
  </body>
</html>
